(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[572],{5831:function(e,t,a){Promise.resolve().then(a.bind(a,4982))},4982:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var n=a(7437),r=a(2265),s=a(4635),i=a(4446),l=a(1989),o=a(2940),d=a(2200),c=a(7147),u=a(3277),f=a(3712),m=a(9256),p=a(5094),x=a(1438),g=a(6042);let h=()=>{let e=document.createElement("div");return e.id="toast-layout",e.className="fixed top-0 right-0 z-40 p-5 trans",document.body.appendChild(e),e},y=[{type:"success",bg:"bg-green-900",text:"text-green-300","progress-dark":"bg-green-300","progress-tint":"bg-green-900"},{type:"error",bg:"bg-red-800",text:"text-red-300","progress-dark":"bg-red-300","progress-tint":"bg-red-800"},{type:"warning",bg:"bg-yellow-700",text:"text-yellow-300","progress-dark":"bg-yellow-300","progress-tint":"bg-yellow-700"},{type:"default",bg:"bg-slate-800",text:"text-slate-300","progress-dark":"bg-tint-dark","progress-tint":"bg-slate-800"}],b=e=>{let{message:t,title:a,duration:n=3e3,type:r="default"}=e,s=document.getElementById("toast-layout");s||(s=h());let i=y.find(e=>e.type===r),l=document.createElement("div");l.className="m-1 transform duration-100 opacity-0 translate-x-full h-0 rounded-xl ".concat(null==i?void 0:i.bg," overflow-hidden");let o=document.createElement("div");o.className="w-full h-1 z-50 ".concat(null==i?void 0:i["progress-dark"]);let d=document.createElement("div");d.className="trans h-full ".concat(null==i?void 0:i["progress-tint"]),d.style.width="0%",o.appendChild(d),l.appendChild(o);let c=document.createElement("div");c.className="md:w-[400px] p-5";let u=document.createElement("span");u.className="text-xl font-bold text-[#ffffff]",u.innerText=a,c.appendChild(u);let f=document.createElement("p");f.className="text-justify ".concat(null==i?void 0:i.text," mt-0"),f.innerText=t,c.appendChild(f),l.appendChild(c),s.appendChild(l),setTimeout(()=>{l.classList.remove("h-0","translate-x-full"),l.classList.add("translate-x-0","opacity-100")},0);let m=Date.now(),p=setInterval(()=>{let e=(Date.now()-m)/n*100;if(e>110){clearInterval(p),l.classList.remove("translate-x-0","opacity-100"),l.classList.add("translate-x-full","opacity-0"),setTimeout(()=>{s.removeChild(l),close&&close()},300);return}d.style.width="".concat(e,"%")},10)};var v=a(9249);function N(){let[e,t]=(0,r.useState)(""),[a,h]=(0,r.useState)(""),[y,N]=(0,r.useState)(""),[j,w]=(0,r.useState)(""),C=0,[k,R]=(0,r.useState)(!1),[E,S]=(0,r.useState)(!1),[z,F]=(0,r.useState)(!1),[V,Z]=(0,r.useState)(!1),[_,U]=(0,r.useState)(0),[L,O]=(0,r.useState)(0),I=()=>{(0,g.m_)().then(e=>{let{uid:t}=e;w(t)})};(0,r.useEffect)(()=>{""===j&&I()},[]);let D=()=>{U(C/5*100),(0,g.N5)(j,C).then(e=>{++C<5?D():(F(!1),R(!0))})},T=()=>{(0,g.ZF)(j).then(e=>{let{valid:t}=e;t?(S(!0),Z(!1),U(100),b({title:"Fingerprint Verified",message:"Fingerprint has been verified successfully",type:"success"})):(b({title:"Fingerprint Verification Failed",message:"Fingerprint could not be verified",type:"error"}),T())})};return(0,n.jsxs)("div",{className:"min-h-screen bg-gray-100 p-8",children:[(0,n.jsxs)(f.Zb,{className:"mx-auto max-w-2xl",children:[(0,n.jsx)(f.Ol,{children:(0,n.jsx)(f.ll,{className:"text-2xl font-bold",children:"Create New User"})}),(0,n.jsx)(f.aY,{children:(0,n.jsxs)("form",{onSubmit:n=>{n.preventDefault(),console.log("Form submitted:",{name:e,semester:a,rollNumber:y,uid:j}),(0,v.Jr)({name:e,semester:a,rollNumber:y,uid:j}).then(e=>{b({title:"User Created",message:"User has been created successfully",type:"success"}),n.target.reset(),t(""),h(""),N(""),w(""),R(!1),S(!1),I()}).catch(e=>{b({title:"User Creation Failed",message:"User could not be created",type:"error"})})},className:"space-y-6",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(u._,{htmlFor:"name",children:"Name"}),(0,n.jsx)(c.I,{id:"name",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(u._,{htmlFor:"semester",children:"Semester"}),(0,n.jsxs)(m.Ph,{value:a,onValueChange:h,required:!0,children:[(0,n.jsx)(m.i4,{id:"semester",children:(0,n.jsx)(m.ki,{placeholder:"Select semester"})}),(0,n.jsx)(m.Bw,{children:[1,2,3,4,5,6,7,8].map(e=>(0,n.jsxs)(m.Ql,{value:e.toString(),children:["Semester ",e]},e))})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(u._,{htmlFor:"rollNumber",children:"Roll Number"}),(0,n.jsx)(c.I,{id:"rollNumber",value:y,onChange:e=>N(e.target.value),required:!0})]}),(0,n.jsxs)(s.E.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},children:[(0,n.jsxs)(d.z,{type:"button",onClick:()=>{F(!0),U(0),D()},disabled:k||""===j,className:"w-full",children:[(0,n.jsx)(l.Z,{className:"mr-2 h-4 w-4"}),k?"Fingerprint Scanned":"Scan Fingerprint"]}),k&&(0,n.jsx)(s.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2},children:(0,n.jsxs)(d.z,{type:"button",onClick:()=>{Z(!0),O(0),T()},disabled:E,className:"w-full",children:[(0,n.jsx)(o.Z,{className:"mr-2 h-4 w-4"}),E?"Fingerprint Verified":"Verify Fingerprint"]})})]}),(0,n.jsx)(s.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},children:(0,n.jsx)(d.z,{type:"submit",className:"w-full",disabled:!E||!e||!a||!y,children:"Create User"})})]})})]}),(0,n.jsxs)(i.M,{children:[z&&(0,n.jsx)(p.Vq,{open:z,onOpenChange:F,children:(0,n.jsxs)(p.cZ,{className:"sm:max-w-[425px]",children:[(0,n.jsx)(p.fK,{children:(0,n.jsx)(p.$N,{children:"Scan Fingerprint"})}),(0,n.jsxs)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},className:"py-4",children:[(0,n.jsx)("p",{className:"text-center mb-4",children:"Please place your finger on the scanner"}),(0,n.jsx)(l.Z,{className:"w-24 h-24 mx-auto mb-4 text-primary animate-pulse"}),(0,n.jsx)(x.E,{value:_,className:"w-full"})]})]})}),V&&(0,n.jsx)(p.Vq,{open:V,onOpenChange:Z,children:(0,n.jsxs)(p.cZ,{className:"sm:max-w-[425px]",children:[(0,n.jsx)(p.fK,{children:(0,n.jsx)(p.$N,{children:"Verify Fingerprint"})}),(0,n.jsxs)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},className:"py-4",children:[(0,n.jsx)("p",{className:"text-center mb-4",children:"Please place your finger on the scanner again for verification"}),(0,n.jsx)(o.Z,{className:"w-24 h-24 mx-auto mb-4 text-primary animate-pulse"}),(0,n.jsx)(x.E,{value:L,className:"w-full"})]})]})})]})]})}},6042:function(e,t,a){"use strict";a.d(t,{N5:function(){return s},ZF:function(){return i},m_:function(){return r},oy:function(){return l},wt:function(){return o}});var n=a(7928);let r=()=>n.e.get("/generate/uid").then(e=>e.data),s=(e,t)=>n.e.post("/scan/finger",{uid:e,count:t+""}).then(e=>e.data),i=e=>n.e.post("/scan/verify",{uid:e}).then(e=>e.data),l=(e,t)=>n.e.put("/record?sem=".concat(e,"&type=").concat(t)).then(e=>e.data),o=()=>n.e.get("/record/kill").then(e=>e.data)},7928:function(e,t,a){"use strict";a.d(t,{e:function(){return n}});let n=a(8472).Z.create({baseURL:"http://localhost:8080/",headers:{"Content-Type":"application/json"}})},9249:function(e,t,a){"use strict";a.d(t,{Ab:function(){return s},Jr:function(){return r},cQ:function(){return i},oL:function(){return o},wP:function(){return l}});var n=a(7928);let r=e=>n.e.post("/create/user",e).then(e=>e.data),s=(e,t)=>n.e.get("/records",{params:{sem:e,date:t}}).then(e=>e.data),i=()=>n.e.get("/dashboard").then(e=>e.data),l=e=>{window.open(n.e.defaults.baseURL+"export/json?sem="+e)},o=e=>{window.open(n.e.defaults.baseURL+"export/csv?sem="+e)}},2200:function(e,t,a){"use strict";a.d(t,{z:function(){return o}});var n=a(7437),r=a(2265),s=a(2218),i=a(4085);let l=(0,s.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,t)=>{let{className:a,variant:r,size:s,asChild:o=!1,...d}=e,c=o?Slot:"button";return(0,n.jsx)(c,{className:(0,i.cn)(l({variant:r,size:s,className:a})),ref:t,...d})});o.displayName="Button"},3712:function(e,t,a){"use strict";a.d(t,{Ol:function(){return l},Zb:function(){return i},aY:function(){return d},ll:function(){return o}});var n=a(7437),r=a(2265),s=a(4085);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});i.displayName="Card";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",a),...r})});l.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});o.displayName="CardTitle";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",a),...r})});d.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},5094:function(e,t,a){"use strict";a.d(t,{$N:function(){return m},Vq:function(){return o},cZ:function(){return u},fK:function(){return f}});var n=a(7437),r=a(2265),s=a(9405),i=a(4697),l=a(4085);let o=s.fC;s.xz;let d=e=>{let{className:t,...a}=e;return(0,n.jsx)(s.h_,{className:(0,l.cn)(t),...a})};d.displayName=s.h_.displayName;let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(s.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});c.displayName=s.aV.displayName;let u=r.forwardRef((e,t)=>{let{className:a,onClose:r,children:o,...u}=e;return(0,n.jsxs)(d,{children:[(0,n.jsx)(c,{}),(0,n.jsxs)(s.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",a),onInteractOutside:e=>e.preventDefault(),...u,children:[o,(0,n.jsxs)(s.x8,{onClick:e=>{r&&r()},className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,n.jsx)(i.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=s.VY.displayName;let f=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};f.displayName="DialogHeader";let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(s.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});m.displayName=s.Dx.displayName},7147:function(e,t,a){"use strict";a.d(t,{I:function(){return i}});var n=a(7437),r=a(2265),s=a(4085);let i=r.forwardRef((e,t)=>{let{className:a,type:r,...i}=e;return(0,n.jsx)("input",{type:r,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...i})});i.displayName="Input"},3277:function(e,t,a){"use strict";a.d(t,{_:function(){return d}});var n=a(7437),r=a(2265),s=a(8364),i=a(2218),l=a(4085);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,t)=>(0,n.jsx)(s.f,{ref:t,className:(0,l.cn)(o(),e.className),...e}));d.displayName=s.f.displayName},1438:function(e,t,a){"use strict";a.d(t,{E:function(){return l}});var n=a(7437),r=a(2265),s=a(6506),i=a(4085);let l=r.forwardRef((e,t)=>{let{className:a,value:r,...l}=e;return(0,n.jsx)(s.fC,{ref:t,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...l,children:(0,n.jsx)(s.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});l.displayName=s.fC.displayName},9256:function(e,t,a){"use strict";a.d(t,{Bw:function(){return f},Ph:function(){return d},Ql:function(){return m},i4:function(){return u},ki:function(){return c}});var n=a(7437),r=a(2265),s=a(9561),i=a(2421),l=a(2468),o=a(4085);let d=s.fC;s.ZA;let c=s.B4,u=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,n.jsxs)(s.xz,{ref:t,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...l,children:[r,(0,n.jsx)(s.JO,{asChild:!0,children:(0,n.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=s.xz.displayName;let f=r.forwardRef((e,t)=>{let{className:a,children:r,position:i="popper",...l}=e;return(0,n.jsx)(s.h_,{children:(0,n.jsx)(s.VY,{ref:t,className:(0,o.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:i,...l,children:(0,n.jsx)(s.l_,{className:(0,o.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r})})})});f.displayName=s.VY.displayName;let m=r.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,n.jsxs)(s.ck,{ref:t,className:(0,o.cn)("relative cursor-pointer flex w-full select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(s.wU,{children:(0,n.jsx)(l.Z,{className:"h-4 w-4"})})}),(0,n.jsx)(s.eT,{children:r})]})});m.displayName=s.ck.displayName},4085:function(e,t,a){"use strict";a.d(t,{b:function(){return i},cn:function(){return s}});var n=a(4839),r=a(6164);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,n.W)(t))}let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data.json",a=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(a),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}}},function(e){e.O(0,[472,607,556,971,23,744],function(){return e(e.s=5831)}),_N_E=e.O()}]);