(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{7162:function(e,t,a){Promise.resolve().then(a.bind(a,7156))},7156:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var n=a(7437),r=a(2265),s=a(4446),i=a(4635),o=a(1989);/**
 * @license lucide-react v0.429.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a(8030).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var d=a(2940),c=a(2200);a(7147);var u=a(3277),f=a(3712),m=a(5094);a(1438);var p=a(9256),x=a(6042);function h(){let[e,t]=(0,r.useState)(!1),[a,h]=(0,r.useState)(!1),[g,y]=(0,r.useState)({name:"",rollNumber:"",semester:""}),[b,N]=(0,r.useState)(""),[j,v]=(0,r.useState)(""),[w,k]=(0,r.useState)(!1),C=()=>{let e=!1;(0,x.oy)(b,j).then(a=>{t(t=>(e=t,t)),a.match?(y(a),h(!0),k(!1),setTimeout(()=>{e&&(h(!1),y({name:"",rollNumber:"",semester:""}),C())},3e3)):(y({name:"",rollNumber:"",semester:""}),h(!0),k(!0),setTimeout(()=>{e&&(C(),h(!1))},3e3))}).catch(e=>{console.log(e)})};return(0,r.useEffect)(()=>{e||(close=!0,(0,x.wt)())},[e]),(0,n.jsxs)("div",{className:"min-h-screen bg-gray-100 p-8",children:[(0,n.jsxs)(f.Zb,{className:"mx-auto max-w-md",children:[(0,n.jsx)(f.Ol,{children:(0,n.jsx)(f.ll,{className:"text-2xl font-bold",children:"Record Check-In"})}),(0,n.jsx)(f.aY,{children:(0,n.jsxs)("form",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(u._,{htmlFor:"rollNumber",children:"Semester"}),(0,n.jsxs)(p.Ph,{id:"semester",value:b,onValueChange:N,required:!0,children:[(0,n.jsx)(p.i4,{id:"semester",children:(0,n.jsx)(p.ki,{placeholder:"Select semester"})}),(0,n.jsx)(p.Bw,{children:[1,2,3,4,5,6,7,8].map(e=>(0,n.jsxs)(p.Ql,{value:e.toString(),children:["Semester ",e]},e))})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(u._,{htmlFor:"type",children:"Type"}),(0,n.jsxs)(p.Ph,{id:"type",value:j,onValueChange:v,required:!0,children:[(0,n.jsx)(p.i4,{id:"type",children:(0,n.jsx)(p.ki,{placeholder:"Select type"})}),(0,n.jsx)(p.Bw,{children:["in","out"].map(e=>(0,n.jsx)(p.Ql,{value:e.toString(),children:e},e))})]})]}),(0,n.jsxs)(c.z,{type:"button",onClick:()=>{h(!1),t(!0),C()},disabled:!b||!j,className:"w-full",children:[(0,n.jsx)(o.Z,{className:"mr-2 h-4 w-4"}),"Start recording"]})]})})]}),(0,n.jsx)(s.M,{children:e&&(0,n.jsx)(m.Vq,{open:e,onOpenChange:t,children:(0,n.jsxs)(m.cZ,{className:"sm:max-w-[425px]",children:[(0,n.jsx)(m.fK,{children:(0,n.jsx)(m.$N,{children:"Start recording"})}),(0,n.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},className:"py-4",children:[(0,n.jsx)("p",{className:"text-center mb-4",children:"Please place your finger on the scanner"}),(0,n.jsx)(o.Z,{className:"w-24 h-24 mx-auto mb-4 text-primary animate-pulse"})]})]})})}),(0,n.jsx)(s.M,{children:a&&e&&(0,n.jsx)(m.Vq,{open:a,onOpenChange:h,children:(0,n.jsxs)(m.cZ,{className:"sm:max-w-[425px]",children:[(0,n.jsx)(m.fK,{children:(0,n.jsx)(m.$N,{children:w?"Failed to mark attendance":"Attendance marked"})}),(0,n.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},className:"py-4",children:[w?(0,n.jsx)(l,{className:"w-24 h-24 mx-auto mb-4 text-red-500"}):(0,n.jsx)(d.Z,{className:"w-24 h-24 mx-auto mb-4 text-green-500"}),(0,n.jsxs)("p",{className:"text-lg text-center font-semibold",children:[w?"Try again":"".concat(g.name)," ",(0,n.jsx)("br",{})," ",w?"":"".concat(g.rollNumber)]})]})]})})})]})}},6042:function(e,t,a){"use strict";a.d(t,{N5:function(){return s},ZF:function(){return i},m_:function(){return r},oy:function(){return o},wt:function(){return l}});var n=a(7928);let r=()=>n.e.get("/generate/uid").then(e=>e.data),s=(e,t)=>n.e.post("/scan/finger",{uid:e,count:t+""}).then(e=>e.data),i=e=>n.e.post("/scan/verify",{uid:e}).then(e=>e.data),o=(e,t)=>n.e.put("/record?sem=".concat(e,"&type=").concat(t)).then(e=>e.data),l=()=>n.e.get("/record/kill").then(e=>e.data)},7928:function(e,t,a){"use strict";a.d(t,{e:function(){return n}});let n=a(8472).Z.create({baseURL:"http://localhost:8080/",headers:{"Content-Type":"application/json"}})},2200:function(e,t,a){"use strict";a.d(t,{z:function(){return l}});var n=a(7437),r=a(2265),s=a(2218),i=a(4085);let o=(0,s.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=r.forwardRef((e,t)=>{let{className:a,variant:r,size:s,asChild:l=!1,...d}=e,c=l?Slot:"button";return(0,n.jsx)(c,{className:(0,i.cn)(o({variant:r,size:s,className:a})),ref:t,...d})});l.displayName="Button"},3712:function(e,t,a){"use strict";a.d(t,{Ol:function(){return o},Zb:function(){return i},aY:function(){return d},ll:function(){return l}});var n=a(7437),r=a(2265),s=a(4085);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});i.displayName="Card";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",a),...r})});o.displayName="CardHeader";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});l.displayName="CardTitle";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",a),...r})});d.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},5094:function(e,t,a){"use strict";a.d(t,{$N:function(){return m},Vq:function(){return l},cZ:function(){return u},fK:function(){return f}});var n=a(7437),r=a(2265),s=a(9405),i=a(4697),o=a(4085);let l=s.fC;s.xz;let d=e=>{let{className:t,...a}=e;return(0,n.jsx)(s.h_,{className:(0,o.cn)(t),...a})};d.displayName=s.h_.displayName;let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(s.aV,{ref:t,className:(0,o.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});c.displayName=s.aV.displayName;let u=r.forwardRef((e,t)=>{let{className:a,onClose:r,children:l,...u}=e;return(0,n.jsxs)(d,{children:[(0,n.jsx)(c,{}),(0,n.jsxs)(s.VY,{ref:t,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",a),onInteractOutside:e=>e.preventDefault(),...u,children:[l,(0,n.jsxs)(s.x8,{onClick:e=>{r&&r()},className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,n.jsx)(i.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=s.VY.displayName;let f=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};f.displayName="DialogHeader";let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(s.Dx,{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});m.displayName=s.Dx.displayName},7147:function(e,t,a){"use strict";a.d(t,{I:function(){return i}});var n=a(7437),r=a(2265),s=a(4085);let i=r.forwardRef((e,t)=>{let{className:a,type:r,...i}=e;return(0,n.jsx)("input",{type:r,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...i})});i.displayName="Input"},3277:function(e,t,a){"use strict";a.d(t,{_:function(){return d}});var n=a(7437),r=a(2265),s=a(8364),i=a(2218),o=a(4085);let l=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,t)=>(0,n.jsx)(s.f,{ref:t,className:(0,o.cn)(l(),e.className),...e}));d.displayName=s.f.displayName},1438:function(e,t,a){"use strict";a.d(t,{E:function(){return o}});var n=a(7437),r=a(2265),s=a(6506),i=a(4085);let o=r.forwardRef((e,t)=>{let{className:a,value:r,...o}=e;return(0,n.jsx)(s.fC,{ref:t,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...o,children:(0,n.jsx)(s.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});o.displayName=s.fC.displayName},9256:function(e,t,a){"use strict";a.d(t,{Bw:function(){return f},Ph:function(){return d},Ql:function(){return m},i4:function(){return u},ki:function(){return c}});var n=a(7437),r=a(2265),s=a(9561),i=a(2421),o=a(2468),l=a(4085);let d=s.fC;s.ZA;let c=s.B4,u=r.forwardRef((e,t)=>{let{className:a,children:r,...o}=e;return(0,n.jsxs)(s.xz,{ref:t,className:(0,l.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...o,children:[r,(0,n.jsx)(s.JO,{asChild:!0,children:(0,n.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=s.xz.displayName;let f=r.forwardRef((e,t)=>{let{className:a,children:r,position:i="popper",...o}=e;return(0,n.jsx)(s.h_,{children:(0,n.jsx)(s.VY,{ref:t,className:(0,l.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:i,...o,children:(0,n.jsx)(s.l_,{className:(0,l.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r})})})});f.displayName=s.VY.displayName;let m=r.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,n.jsxs)(s.ck,{ref:t,className:(0,l.cn)("relative cursor-pointer flex w-full select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(s.wU,{children:(0,n.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,n.jsx)(s.eT,{children:r})]})});m.displayName=s.ck.displayName},4085:function(e,t,a){"use strict";a.d(t,{b:function(){return i},cn:function(){return s}});var n=a(4839),r=a(6164);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,n.W)(t))}let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data.json",a=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(a),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}}},function(e){e.O(0,[472,607,556,971,23,744],function(){return e(e.s=7162)}),_N_E=e.O()}]);